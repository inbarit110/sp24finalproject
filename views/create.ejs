<%- include("_header") -%>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<h1>Create New Customer</h1>


<form action="/create" method="POST" onsubmit="return validateForm()">
  <label for="id">ID</label>
  <input type="text" id="id" name="id" pattern="[0-9]*" required>
  <br>
  <label for="firstName">First Name</label>
  <input type="text" id="firstName" name="firstName" required>
  <br>
  <label for="lastName">Last Name</label>
  <input type="text" id="lastName" name="lastName" required>
  <br>
  <label for="state">State</label>
  <input type="text" id="state" name="state" maxlength="2" pattern="[A-Za-z]{2}">
  <br>
  <label for="salesYTD">Sales YTD</label>
  <input type="text" id="salesYTD" name="salesYTD" pattern="[0-9]*">
  <br>
  <label for="previousSales">Previous Years Sales</label>
  <input type="text" id="previousSales" name="previousSales" pattern="[0-9]*">
  <br>
  <button type="submit">Create</button>
  <button type="reset">Reset</button>
</form>
<div id="notification" style="display:none;"></div>
<script>
       function validateForm() {
            var id = document.getElementById("id").value;
            var firstName = document.getElementById("firstName").value;
            var lastName = document.getElementById("lastName").value;
            var state = document.getElementById("state").value;

            if (!id || !firstName || !lastName) {
                document.getElementById("notification").innerHTML = "ID, First Name, and Last Name are required.";
                document.getElementById("notification").style.display = "block";
                return false;
            }

            if (state && !/^[A-Za-z]{2}$/.test(state)) {
                document.getElementById("notification").innerHTML = "State should be 2 characters alpha code.";
                document.getElementById("notification").style.display = "block";
                return false;
            }

            return true;
        }
</script>
<%- include("_footer") -%>